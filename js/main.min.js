"use strict";var bus=new Vue({});Vue.component("ethical-controls",{template:"#control-template",props:{level:{type:Number,"default":Default.ethicalLevel},type:{type:Number,"default":Default.persuasiveType},open:{type:Boolean,"default":!1},show:{type:Array,"default":function(){return[!0,!0,!0,!0,!0,!0]}},choices:{type:Array,"default":function(){return Default.choices}}},data:function(){return{userDisagrees:!1,childData:{currentLevel:this.level,currentType:this.type,currentIndex:Util.getRandomNum(this.$props.choices[this.$props.type][this.$props.level].length-1)},newEthicalLevel:this.level,options:Util.ethicalOptions}},computed:{classObject:function(){var e={controlsTemplateWrapper:!0},t=this.userDisagrees?this.newEthicalLevel:this.childData.currentLevel;if(this.open&&this.show[this.type])switch(e.open=!0,t){case Util.ETHICAL:e.ethical=!0;break;case Util.SOMEWHAT_ETHICAL:e.somewhatEthical=!0;break;case Util.SOMEWHAT_UNETHICAL:e.somewhatUnethical=!0;break;case Util.UNETHICAL:default:e.unethical=!0}return e}},methods:{updateEthicalLevel:function(){bus.$emit("change-ethical-level",this.childData,this.choices,this.newEthicalLevel),this.userDisagrees=!1}},updated:function(){$('[data-toggle="tooltip"]').tooltip()},beforeUpdate:function(){$('[data-toggle="tooltip"]').tooltip("destroy")}}),Vue.component("testimonial-element",{template:"#testimonial-template",props:{index:{type:Number,"default":Util.getRandomNum(Util.testimonials.length-1)}},data:function(){return{tPic:"/images/testimonials/"+Util.testimonials[this.index].tPic+".png",tName:Util.testimonials[this.index].tName,tTitle:Util.testimonials[this.index].tTitle}}}),Vue.component("text-element",{template:"<span>{{ msg }}</span>",props:{index:{type:Number,"default":-1},level:{type:Number,"default":Default.ethicalLevel},type:{type:Number,"default":Default.persuasiveType},choices:{type:Array,"default":function(){return Default.choices}}},data:function(){return{itemIndex:-1===this.$props.index?Util.getRandomNum(this.$props.choices[this.$props.type][this.$props.level].length-1):this.$props.index}},computed:{msg:function(){return Util.chooseElement(this.itemIndex,this.type,this.level,this.choices)}},created:function(){var e=this;bus.$on("set-ethical-level",function(t){e.ethicalLevel=t})}});var app=new Vue({el:"#app",data:{ethicalLevel:Default.ethicalLevel,persuasiveType:Default.persuasiveType,persuasiveTypes:Util.persuasiveTypes,testimonials:Testimonials,ctas:CTAs,controlsOpen:!1,sidebarOpen:!1,typesToShow:[!0,!0,!0,!0,!0,!0],msg:"",oldLevel:"",newLevel:""},methods:{toggleControls:function(){this.sidebarOpen=!this.sidebarOpen,this.controlsOpen=this.sidebarOpen,this.slider.slideReveal("toggle",!1)},toggleTypeToShow:function(e){Vue.set(this.typesToShow,e,!this.typesToShow[e])}},computed:{terms:function(){return Util.chooseElement(this.itemIndex,this.type,this.level,this.choices)}},created:function(){var e=this;bus.$on("toggle-type-to-show",function(t){Vue.set(e.typesToShow,t,!e.typesToShow[t])}),bus.$on("change-ethical-level",function(t,i,s){var l=Util.chooseElement(t.currentIndex,t.currentType,t.currentLevel,i);e.msg=l,e.oldLevel=Util.ethicalOptions[t.currentLevel].text,e.newLevel=Util.ethicalOptions[s].text,$("#voteRecorded").modal("show")})},mounted:function(){this.slider=$("#controlMenu").slideReveal({position:"right",width:"20%"}),$('.footer-text [data-toggle="popover"]').popover({placement:"top"})}});
//# sourceMappingURL=./main.min.js.map